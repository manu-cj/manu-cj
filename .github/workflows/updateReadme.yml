name: Update README

on:
  schedule:
    - cron: '0 0 * * *' # ExÃ©cute tous les jours Ã  minuit
  workflow_dispatch:

jobs:
  update-readme:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v3

    - name: Set up Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'

    - name: Generate random library
      id: random-library
      run: |
        # Dictionnaire des bibliothÃ¨ques JavaScript avec descriptions
        declare -A libraries
        libraries=(
          ["Lodash"]="Une bibliothÃ¨que utilitaire moderne qui facilite le travail avec les tableaux, les objets, et plus encore."
          ["Axios"]="Une bibliothÃ¨que pour faire des requÃªtes HTTP depuis le navigateur ou Node.js."
          ["Moment.js"]="Une bibliothÃ¨que pour manipuler et formater des dates et heures."
          ["Day.js"]="Une alternative lÃ©gÃ¨re Ã  Moment.js pour manipuler les dates et heures."
          ["date-fns"]="Une bibliothÃ¨que moderne pour manipuler les dates avec une API simple."
          ["Luxon"]="Une bibliothÃ¨que pour gÃ©rer les dates et heures, basÃ©e sur le module Intl de JavaScript."
          ["Chrono"]="Une bibliothÃ¨que pour l'analyse des dates et heures dans le texte."
          ["Formik"]="Une bibliothÃ¨que pour la gestion des formulaires dans les applications React."
          ["React Hook Form"]="Une bibliothÃ¨que pour la gestion des formulaires dans React, avec une API simple et une faible consommation de ressources."
          ["Final Form"]="Une bibliothÃ¨que pour la gestion des formulaires avec une API simple et extensible."
          ["React Final Form"]="Une version de Final Form pour React."
          ["React JSON Schema Form"]="Une bibliothÃ¨que pour gÃ©nÃ©rer des formulaires Ã  partir de schÃ©mas JSON."
          ["Monaco Editor"]="L'Ã©diteur de code de Microsoft, utilisÃ© dans Visual Studio Code."
          ["CodeMirror"]="Un Ã©diteur de texte adaptable pour le navigateur, avec de nombreuses fonctionnalitÃ©s."
          ["Ace Editor"]="Un Ã©diteur de code qui peut Ãªtre intÃ©grÃ© dans les applications web."
          ["Draft.js"]="Une bibliothÃ¨que pour la gestion des Ã©diteurs de texte enrichi dans React."
          ["Quill"]="Un Ã©diteur de texte riche avec une API extensible."
          ["TinyMCE"]="Un Ã©diteur de texte riche pour le web, qui supporte les plugins et la personnalisation."
          ["SimpleMDE"]="Un Ã©diteur Markdown simple et extensible pour le web."
          ["Mark Text"]="Un Ã©diteur Markdown open-source avec une interface utilisateur moderne."
          ["Chart.js"]="Une bibliothÃ¨que pour crÃ©er des graphiques interactifs en JavaScript."
          ["D3.js"]="Une bibliothÃ¨que pour manipuler des documents basÃ©s sur des donnÃ©es avec HTML, SVG, et CSS."
          ["Highcharts"]="Une bibliothÃ¨que pour crÃ©er des graphiques interactifs et dynamiques."
          ["ApexCharts"]="Une bibliothÃ¨que de graphiques modernes avec une API simple."
          ["ECharts"]="Une bibliothÃ¨que de graphiques puissante et flexible pour le web."
          ["Plotly.js"]="Une bibliothÃ¨que pour crÃ©er des graphiques interactifs et de haute qualitÃ©."
          ["Three.js"]="Une bibliothÃ¨que pour crÃ©er et afficher des graphiques 3D en JavaScript."
          ["jQuery"]="Une bibliothÃ¨que populaire pour simplifier le dÃ©veloppement JavaScript."
          ["Preact"]="Une bibliothÃ¨que pour construire des interfaces utilisateur avec une API similaire Ã  React."
          ["Backbone.js"]="Une bibliothÃ¨que qui fournit une structure aux applications web en utilisant des modÃ¨les avec une liaison clÃ©-valeur."
          ["Ember.js"]="Un framework JavaScript ambitieux pour crÃ©er des applications web."
          ["Mithril"]="Un framework JavaScript lÃ©ger pour construire des interfaces utilisateur."
          ["Aurelia"]="Un framework JavaScript moderne pour construire des applications web."
          ["Webpack"]="Un module bundler pour les applications JavaScript modernes."
          ["Rollup"]="Un module bundler pour les projets JavaScript qui se concentre sur la sortie optimisÃ©e."
          ["Parcel"]="Un bundler web zÃ©ro configuration qui supporte de nombreux formats de fichiers."
          ["Vite"]="Un outil de construction rapide pour les projets modernes avec une configuration minimale."
          ["ESLint"]="Un linter pour identifier et corriger les problÃ¨mes dans le code JavaScript."
          ["Prettier"]="Un formateur de code pour garder un style de code cohÃ©rent."
          ["Apollo Client"]="Une bibliothÃ¨que pour la gestion des donnÃ©es GraphQL dans les applications JavaScript."
          ["Fetch API"]="Une API moderne pour faire des requÃªtes HTTP dans le navigateur."
          ["Superagent"]="Une bibliothÃ¨que lÃ©gÃ¨re pour faire des requÃªtes HTTP."
          ["Express"]="Un framework web pour Node.js qui facilite la crÃ©ation d'applications web et APIs."
          ["NestJS"]="Un framework pour construire des applications serveur avec Node.js, basÃ© sur TypeScript."
          ["Koa"]="Un framework web pour Node.js conÃ§u par les crÃ©ateurs d'Express."
          ["RxJS"]="Une bibliothÃ¨que pour la programmation rÃ©active en JavaScript."
          ["Redux"]="Une bibliothÃ¨que pour la gestion d'Ã©tat dans les applications JavaScript."
          ["Redux-Saga"]="Une bibliothÃ¨que pour gÃ©rer les effets secondaires dans Redux."
          ["Immer"]="Une bibliothÃ¨que pour manipuler les Ã©tats immuables dans JavaScript."
          ["Zustand"]="Une bibliothÃ¨que pour la gestion d'Ã©tat simple et flexible dans les applications React."
          ["MobX"]="Une bibliothÃ¨que pour la gestion d'Ã©tat rÃ©active et transparente."
        )

        # Choisir une bibliothÃ¨que alÃ©atoire
        library_names=("${!libraries[@]}")
        random_library=${library_names[$((RANDOM % ${#library_names[@]}))]}
        random_description=${libraries[$random_library]}

        echo "random_library=${random_library}" >> $GITHUB_ENV
        echo "random_description=${random_description}" >> $GITHUB_ENV

    - name: Update README.md
      run: |
        # Variables
        RANDOM_LIBRARY=${{ env.random_library }}
        RANDOM_DESCRIPTION=${{ env.random_description }}

        # Contenu du README
        cat > README.md <<EOF
<meta name="description" content="GitHub profile in blue color">
<meta name="keywords" content="Full Stack Developer, GitHub Stats, GitHub Profile, JavaScript, TypeScript, React, Nodejs, HTML5, CSS3, PHP, MySQL, MongoDB"/>

<div>
   <img width=100% src="https://capsule-render.vercel.app/api?type=waving&color=007acc&height=120&section=header">
</div>

<img src="https://readme-typing-svg.herokuapp.com/?color=1BF7B3&size=35&center=true&weight=700&size=40&pause=1500&&vCenter=true&width=1000&lines=Hi,+I'm+Manu;I'm+a+Full+Stack+Js+Developer;Be+Welcome!+ðŸ˜">

<br/>  
<br/>  

<table align="center" style="border-radius: 15px;">
  <tr>
    <td valign="top" width="33%" style="border: 2px solid black; padding: 10px; background-color: #f9f9f9;">
      <br>
      <img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&weight=700&size=40&duration=2000&pause=99000&center=true&vCenter=truerandom=false&reapeat=false&width=435&height=100&lines=Frontend">
      <p align="center">
        <a href="https://skillicons.dev">
          <img src="https://skillicons.dev/icons?i=html,sass,js,vue,react,ts" />
        </a>
      </p>
    </td>
    <td valign="top" width="33%" style="border: 2px solid black; padding: 10px; background-color: #e9e9e9;">
      <br>
      <img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&weight=700&size=40&duration=2000&pause=99000&center=true&vCenter=truerandom=false&reapeat=false&width=435&height=100&lines=Backend">
      <p align="center">
        <a href="https://skillicons.dev">
          <img src="https://skillicons.dev/icons?i=php,docker,mysql" />
        </a>
      </p>
    </td>
    <td valign="top" width="33%" style="border: 2px solid black; padding: 10px; background-color: #d9d9d9;">
      <br>
      <img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&weight=700&size=40&duration=2000&pause=99000&center=true&vCenter=truerandom=false&reapeat=false&width=435&height=100&lines=Other">
      <p align="center">
        <a href="https://skillicons.dev">
          <img src="https://skillicons.dev/icons?i=git,py,linux" />
        </a>
      </p>
    </td>
  </tr>
  <tr>
    <td colspan="3" valign="top" style="border: 2px solid black; padding: 10px; background-color: #c9c9c9;">
      <br>
      <div align="center">
        <img src="https://readme-typing-svg.herokuapp.com?font=Fira+Code&weight=700&size=30&duration=1000&pause=99000&center=true&vCenter=truerandom=false&reapeat=false&width=435&height=100&lines=I+learn">
      </div>
      <p align="center">
        <a href="https://skillicons.dev">
          <img src="https://skillicons.dev/icons?i=svelte,angular,nodejs,mongodb" />
        </a>
      </p>
    </td>
  </tr>
</table>

<br/>  

###

<div align="center">
  <img height="190rem" alt="GitHub Stats" src="https://github-readme-stats.vercel.app/api?username=manu-cj&show_icons=true&title_color=007acc&icon_color=007acc&text_color=007acc&bg_color=00000000&border_radius=15&border_color=00000000&count_private=true&hide=contribs&hide_rank=true"/>
  <img height="190rem" alt="Most Used Languages" src="https://github-readme-stats.vercel.app/api/top-langs/?username=manu-cj&langs_count=6&layout=compact&title_color=007acc&icon_color=007acc&text_color=007acc&bg_color=00000000&border_radius=15&border_color=00000000&hide=css,html,hack,Dockerfile,scss"/>
</div>

<div align="center">
  <img src="https://github-readme-streak-stats.herokuapp.com/?user=manu-cj&theme=react&langs_count=6&layout=compact&title_color=007acc&icon_color=007acc&text_color=007acc&bg_color=00000000&border_radius=15&border_color=00000000&hide=jupyter%20notebook" height="200px" />
</div>
<br>
<div align="center">
  <a href="https://www.linkedin.com/in/manu-cj" target="_blank">
    <img height="30" width="120" title="linkedin.com/in/manu-cj/" src="./linkedin.png">
  </a>
</div>

<a href="#">
  <img width=100% src="https://capsule-render.vercel.app/api?type=waving&color=007acc&height=120&section=footer"/>
</a> 

<h2 align="center">My activity</h2>

<div align="center">
  <img src="https://github.com/manu-cj/manu-cj/blob/output/github-contribution-grid-snake-dark.svg">
</div>

<h2 align="center">Random JavaScript Library</h2>

<p align="center">Here is a random JavaScript library that you might find useful:</p>

<p align="center"><b>${{ env.random_library }}</b></p>
<p align="center">${{ env.random_description }}</p>
EOF

    - name: Commit and push changes
      run: |
        git config --global user.name 'GitHub Actions'
        git config --global user.email 'actions@github.com'
        git add README.md
        git commit -m 'Update README with a random JavaScript library and its description'
        git push
